{
  "articles": [
    {
      "path": "about.html",
      "title": "Joohan Cho",
      "author": [],
      "contents": "\n\n          \n          \n          Homepage\n          \n          \n          Home\n          About\n          Portfolio\n          ☰\n          \n          \n      \n        \n          \n            \n              \n            \n              Joohan Cho\n            \n            \n              \n                \n                    \n                      \n                        GitHub\n                      \n                    \n                  \n                                    \n                    \n                      \n                        Email\n                      \n                    \n                  \n                                  \n            \n          \n        \n        \n        \n          \n            My name is Joohan Cho and I am an actuarial science major at Sunkyunkwan University. I have lived in Seoul. Basically, I always love challenging new things and easily adjust my self to new environments. Thank you for reading and have a good day!!\n          \n        \n      \n    \n\n    \n      \n        \n          \n            \n              \n            \n              Joohan Cho\n            \n            \n              \n                \n                                    \n                    \n                      GitHub\n                    \n                  \n                                    \n                    \n                      Email\n                    \n                  \n                                  \n              \n            \n            \n              My name is Joohan Cho and I am an actuarial science major at Sunkyunkwan University. I have lived in Seoul. Basically, I always love challenging new things and easily adjust my self to new environments. Thank you for reading and have a good day!!\n            \n        \n      \n    \n\n    \n    \n    ",
      "last_modified": "2021-03-02T12:14:51+00:00"
    },
    {
      "path": "index.html",
      "title": "Joohan Cho",
      "description": "Welcome to the website. I hope you enjoy it!\n",
      "author": [],
      "contents": "\n\n\n\n",
      "last_modified": "2021-03-02T12:25:47+00:00"
    },
    {
      "path": "port.html",
      "title": "Portfolio",
      "author": [],
      "contents": "\n목차\nSimulate Vasicek r(t)\nPricing Barrier option\nAmeshousing\nSimulate Vasicek r(t)\n\n\n## Simulate Vasicek r(t)\nset.seed(3)\n\n# parameter 설정\nr0 <- 0.03\na <- 0.2\nb <- 0.03\nsigma <- 0.01\nn <- 10    # trials\nT <- 10    # (10년만기 국고채)\nh <- 3600    # subintervals\ndt <- T/h   \n\n\n# 시나리오 행렬 생성\nv_m <- as.data.frame(matrix(data=0, ncol = 21, nrow = h+1)) \nv_m[1,1:10] <- r0\ncolnames(v_m)=c(\"scenario1\",\"scenario2\",\"scenario3\",\"scenario4\",\"scenario5\",\n                \"scenario6\",\"scenario7\",\"scenario8\",\"scenario9\",\"scenario10\", \n                \"price1\", \"price2\", \"price3\", \"price4\", \"price5\",\n                \"price6\", \"price7\", \"price8\", \"price9\", \"price10\",\"t\")\n\nfor(j in 1:n){\n  for(i in 2:(h+1)){\n    dr <- a*(b-v_m[i-1,j])*dt + sigma*sqrt(dt)*rnorm(1,0,1)   # dr = a(b-r)dt + sigma*dz, where dz~N(0,dt) > using normal approximation\n    v_m[i,j] <- v_m[i-1,j] + dr   # r(t)\n  }\n} \n\nv_m[,21] <- seq(0, 3600)\nv_m[,21] <- v_m[,21]/3600\n\n\n# plot r(t)\nt <- seq(0, T, dt)\nmatplot(t, v_m[,1:10], type=\"l\", lty=3, col = 1:10, main=\"Short-Rate Paths\", ylab=\"r(t)\") \n\n\n\n# pricing bond\nBondprice <- function(rt, a, b, sigma, k){\n    rbar <- b-(0.5*sigma^2/a^2)  # k= T-t\n    b.t <- (1/a)*(1-exp(-k*a))   # B(t,T) \n    a.t <- exp(rbar*(b.t-k)-(b.t^2*sigma^2/(4*a)))   # A(t,T)\n    return(a.t*exp(-b.t*rt))\n  }\n\nfor (i in 1:h+1){\n  for (j in 1:n){\n    v_m[i,j+10] <- Bondprice(v_m[i,j], a, b, sigma, v_m[i,21])  \n  }\n  \n}\n\nv_mp <- v_m[-1,]\n\nmatplot(seq(1/3600,T,dt), v_mp[,11:20], type=\"l\", lty=1, col = 1:10, main=\"Bond price\", ylab=\"P(t,T)\", xlab = \"maturity\")\n\n\n\n\nPricing Barrier option\n\n\n# Assumptions\n\nscenario <- 100\ninterval <- 600\nt <- 1/(interval)\nr <- 0.03\nsigma <-0.4\nmu <- r-0.5*sigma^2\n\ns0 <- 100\nk <- 110\nbarrier <- 120\nset.seed(123)\n\n\n# Z\n\nz <- as.data.frame(matrix(rnorm(scenario*interval), nrow=scenario, ncol=interval))\n\nxx <- as.data.frame(matrix(data=0, nrow=scenario, ncol=interval+1))\n\nfor (i in 1:scenario){\n  for(j in 1:interval){\n    xx[i,j+1] <- xx[i,j] + (mu*t+(sigma*sqrt(t)*z[i,j]))\n  }\n}\n\n\nplot(x=seq(1, 600, 1),y=s0*exp(xx[3,2:601]), main = \"X(T)\", type = \"l\", ylab=\"X(t)\", xlab=\"interval\")\n\n\n\n## Payoff 식 만들어야함\n\nresult <- matrix(NA, scenario, 1)\n\nfor(i in 1:scenario){\n  result[i,1]<- exp(-r*1)*(s0*exp(xx[i,601])-k)  \n}\n\n\nmean(result[1:scenario,1])\n\n\n[1] -7.071878\n\nAmeshousing\n\n\nlibrary(ggplot2)\nlibrary(AmesHousing)\nlibrary(tidyverse)\nlibrary(caret)\nlibrary(GGally)\nlibrary(treemap)\nlibrary(ggridges)\n\nhouse <- ames_raw\nls(house)\n\n\n [1] \"1st Flr SF\"      \"2nd Flr SF\"      \"3Ssn Porch\"     \n [4] \"Alley\"           \"Bedroom AbvGr\"   \"Bldg Type\"      \n [7] \"Bsmt Cond\"       \"Bsmt Exposure\"   \"Bsmt Full Bath\" \n[10] \"Bsmt Half Bath\"  \"Bsmt Qual\"       \"Bsmt Unf SF\"    \n[13] \"BsmtFin SF 1\"    \"BsmtFin SF 2\"    \"BsmtFin Type 1\" \n[16] \"BsmtFin Type 2\"  \"Central Air\"     \"Condition 1\"    \n[19] \"Condition 2\"     \"Electrical\"      \"Enclosed Porch\" \n[22] \"Exter Cond\"      \"Exter Qual\"      \"Exterior 1st\"   \n[25] \"Exterior 2nd\"    \"Fence\"           \"Fireplace Qu\"   \n[28] \"Fireplaces\"      \"Foundation\"      \"Full Bath\"      \n[31] \"Functional\"      \"Garage Area\"     \"Garage Cars\"    \n[34] \"Garage Cond\"     \"Garage Finish\"   \"Garage Qual\"    \n[37] \"Garage Type\"     \"Garage Yr Blt\"   \"Gr Liv Area\"    \n[40] \"Half Bath\"       \"Heating\"         \"Heating QC\"     \n[43] \"House Style\"     \"Kitchen AbvGr\"   \"Kitchen Qual\"   \n[46] \"Land Contour\"    \"Land Slope\"      \"Lot Area\"       \n[49] \"Lot Config\"      \"Lot Frontage\"    \"Lot Shape\"      \n[52] \"Low Qual Fin SF\" \"Mas Vnr Area\"    \"Mas Vnr Type\"   \n[55] \"Misc Feature\"    \"Misc Val\"        \"Mo Sold\"        \n[58] \"MS SubClass\"     \"MS Zoning\"       \"Neighborhood\"   \n[61] \"Open Porch SF\"   \"Order\"           \"Overall Cond\"   \n[64] \"Overall Qual\"    \"Paved Drive\"     \"PID\"            \n[67] \"Pool Area\"       \"Pool QC\"         \"Roof Matl\"      \n[70] \"Roof Style\"      \"Sale Condition\"  \"Sale Type\"      \n[73] \"SalePrice\"       \"Screen Porch\"    \"Street\"         \n[76] \"Total Bsmt SF\"   \"TotRms AbvGrd\"   \"Utilities\"      \n[79] \"Wood Deck SF\"    \"Year Built\"      \"Year Remod/Add\" \n[82] \"Yr Sold\"        \n\n필요한 library와 ames_raw의 변수를 확인한다.\n\n\n# Continuous variables\n\n## SalePrice graph\n### divde data into 30 equal bins or intervals.\n\nggplot(house, aes(SalePrice)) + geom_histogram()\n\n\n\nboxplot(house$SalePrice, main = \"SalePrice\")\n\n\n\n\ntarget 변수인 SalePrice를 이용한 histogram & boxplot. histogram을 보면 왼쪽으로 그래프가 치우쳐져 있는 것을 확인할 수 있다.\n\n\n### log transformed histogram\n\nggplot(house, aes(SalePrice)) +\n  geom_histogram(bins = 50) +\n  scale_x_log10(\n    labels = scales::dollar,\n    breaks = c(50000, 150000, 250000, 350000)\n  )\n\n\n\n\n데이터가 왼쪽을 치우쳐져 있기 때문에, 로그 변환 후 bins = 50 으로 설정하여 다시 histogram을 그린 결과 정규분포와 비슷한 모양을 가진다는 것을 알 수 있다. 하지만 tail이 상대적으로 짧은 느낌이고 중앙도 움푹 파인 부분이 있는 것을 확인할 수 있다.\n\n\n### look at normality by using Q-Q plot\n### raw data\n\nqqnorm(house$SalePrice, main = \"raw data Q-Q plot\")\nqqline(house$SalePrice)\n\n\n\n### log data\n\nqqnorm(log(house$SalePrice), main = \"log data Q-Q plot\")\nqqline(log(house$SalePrice))\n\n\n\n\n정규성을 확인하기 위해 raw data와 log data의 Q-Q plot을 그려보면, raw data는 꼬리로 갈수록 정규분포에서 많이 벗어나는 것을 알 수 있고, log data 또한 꼬리 부분은 벗어 나지만 상대적으로 raw data보다는 정규성을 가진다고 볼 수 있다.\n\n\n### plot\n\nplot(house$SalePrice, col = rgb(0.5, 0, 0.5, alpha = 0.3), ylab = \"SalePrice\")\n\n\n\n\nTarget 변수인 SalePrice에 대한 plot을 그려보면 대부분의 값이 100,000 ~ 300,000 사이인 것을 확인할 수 있다.\n\n\n## Total square feet of basement area\n### graph `Total Bsmt SF`\n\nggplot(house, aes(`Total Bsmt SF`)) + geom_histogram()\n\n\n\nboxplot(house$`Total Bsmt SF`, main = \"Total Bsmt SF\", na.rm = TRUE)\n\n\n\n\nSalePrice에 영향을 많이 줄 것 같은 변수인 Total Bsmt SF에 대한 histogram과 boxplot을 그려보았다. 그 결과 SalePrice와 무언가 비슷한 형태를 가진다는 것을 확인할 수 있다.\n\n\n# Bar charts : One of the most commonly used data visualizations for categorical variables\n# MS_Zoning\nhouse %>%\n  count(`MS Zoning`) %>%\n  mutate(ratio = n / sum(n)) %>%\n  arrange(ratio)  # This imbalanced nature can cause problems in future analytic models.\n\n\n# A tibble: 7 x 3\n  `MS Zoning`     n    ratio\n  <chr>       <int>    <dbl>\n1 A (agr)         2 0.000683\n2 I (all)         2 0.000683\n3 C (all)        25 0.00853 \n4 RH             27 0.00922 \n5 FV            139 0.0474  \n6 RM            462 0.158   \n7 RL           2273 0.776   \n\n                # So it may make sense to combine these infrequent levels into an \"other\" category.\n\nggplot(house, aes(`MS Zoning`)) + geom_bar()\n\n\n\n# total count\np1 <- house %>%\n  count(`MS Zoning`) %>%\n  ggplot(aes(reorder(`MS Zoning`, n), n)) + geom_col() + coord_flip() + ggtitle(\"Total count\")\np1\n\n\n\n\n이산형변수인 MS Zoning에 대해 table을 만들어보고 histogram을 그려보았다. RL이 가장 많고 I(all)과 A(agr)은 거의 없다고 봐도 무방할 것 같다. I(all)과 A(agr)와 같이 데이터가 많이 존재하지 않는 변수들은 분석에 큰 영향을 주지 않을 것으로 예상되어 이런 변수들을 묶어 ’other’이란 변수로 rename해주기로 한다.\n\n\n# make \"other\" category to MS Zoning\nhouse %>%\n  mutate(`MS Zoning` = fct_lump(`MS Zoning`, n = 2)) %>%  # 주요 인자 n개만 나타내고 나머지는 other 처리\n  count(`MS Zoning`) %>%\n  mutate(ratio = n / sum(n)) %>%\n  ggplot(aes(reorder(`MS Zoning`, ratio), ratio)) + geom_col() + coord_flip()\n\n\n\n\n주요변수를 2개로 하고 나머지 변수들은 데이터가 많이 없기 때문에 ’other’로 만들어 주었다.\n\n\nhouse %>%\n  mutate(Neighborhood = fct_lump(Neighborhood, n = 26)) %>%\n  count(Neighborhood) %>%\n  mutate(ratio = n / sum(n)) %>%\n  ggplot(aes(ratio, reorder(Neighborhood, ratio))) + geom_point() +\n  geom_segment(aes(x = 0, xend = ratio, y = Neighborhood, yend = Neighborhood), size = 0.3)\n\n\n\n\n또 다른 이산형 변수인 Neighborhood를 MS Zoning과 같은 방법으로 주요변수 26개를 이용해 그래프를 그렸다.\n\n\n# order variable (kitchenQual)\nhouse %>%\n  mutate(`Kitchen Qual` = fct_relevel(`Kitchen Qual`, \"Po\", \"Fa\", \"TA\", \"Gd\")) %>%\n  ggplot(aes(`Kitchen Qual`)) + geom_bar()\n\n\n\n\n다음은 순서가 있는 변수인 Kitchen Qual에 대해 histogram을 그리고 x축을 보기 쉽게 ‘Poor’, ‘Fair’, ‘Average/Typical’, ‘Good’, ‘Excellent’ 순서대로 나열하고 그래프를 그린다. ’poor’는 데이터가 없고 일반적인 수준인 ’Good’과 ’Average/Typical’이 가장 많은 것을 알 수 있다. 순서가 있는 경우에는 ’Poor’와 ’Excellent’가 데이터가 많이 없다고 하더라도 SalePrice에 미치는 영향이 많이 다를 수 있기 때문에 합쳐서 ’other’이라는 변수를 만드는 것은 분석에 방해가 될 것 같기도 하다.\n\n\n# categorial variable that has set intervals and may even be identified by integer values.\np <-  ggplot(house, aes(factor(`Mo Sold`))) + geom_bar()\np <- p + labs(x = \"sold month\", y = \"frequency\")\np\n\n\n\n\n그 다음으로는 집이 팔린 날짜에 대한 자료이다. 그래프를 보면 알겠지만 5월, 6월, 7월에 특히 빈도가 높은 것을 알 수 있다. 그 외에는 거의 비슷한 수준이라고 봐도 무방할 것 같다.\n\n\n# Year Built\nggplot(house, aes(`Year Built`)) + geom_histogram()\n\n\n\nhouse %>%\n  count(cut_width(`Year Built`, width = 10)) %>%  # interval : 10-year\n  arrange(desc(n))\n\n\n# A tibble: 15 x 2\n   `cut_width(\\`Year Built\\`, width = 10)`     n\n   <fct>                                   <int>\n 1 (1995,2005]                               627\n 2 (1955,1965]                               373\n 3 (1965,1975]                               339\n 4 (2005,2015]                               324\n 5 (1975,1985]                               252\n 6 (1945,1955]                               246\n 7 (1985,1995]                               208\n 8 (1915,1925]                               179\n 9 (1935,1945]                               133\n10 (1925,1935]                               101\n11 (1905,1915]                                86\n12 (1895,1905]                                38\n13 (1885,1895]                                13\n14 (1875,1885]                                 9\n15 [1865,1875]                                 2\n\nggplot(house, aes(`Year Built`)) +\n  geom_histogram(breaks = seq(1865, 2005, by = 5)) + \n  geom_vline(xintercept = c(1980, 1990), col = \"red\", lty = \"dashed\")\n\n\n\n\n집이 지어진 년도에 대한 자료인데, 그래프를 보면 알겠지만 시간이 지날수록 전반적으로 상승하다가, 1980 ~ 1990년 사이에는 데이터가 많이 없는 것을 알 수 있다. 사회적인 영향이 있는지 확인해볼 필요가 있을 것 같다.\n\n\n# `Total Bsmt SF` & SalePrice\nggplot(house, aes(x = `Total Bsmt SF`, y = SalePrice)) + geom_point(alpha = .3)\n\n\n\np1 <- ggplot(house, aes(x = `Total Bsmt SF`, y = SalePrice)) + geom_point(alpha = 0.3) +\n  geom_smooth(method = \"lm\", se = TRUE, color = \"red\", lty = \"dashed\") + \n  geom_smooth(se = TRUE, lty = \"dashed\") + ggtitle(\"raw data variables\")\np1\n\n\n\np2 <- ggplot(house, aes(x = `Total Bsmt SF`, y = SalePrice)) + geom_point(alpha = 0.3) +\n  geom_smooth(method = \"lm\", se = TRUE, color = \"red\", lty = \"dashed\") + \n  geom_smooth(se = TRUE, lty = \"dashed\") + \n  scale_x_log10() + scale_y_log10() + ggtitle(\"log data variables\")\np2\n\n\n\ngridExtra::grid.arrange(p1, p2, ncol = 2)\n\n\n\n\nSalePrice에 가장 영향을 많이 줄것이라고 생각했던 1) Total Bsmt SF 변수를 x축으로, SalePrice를 y축으로 2) log(Total Bsmt SF) 변수를 x축으로, SalePrice를 y축으로 해서 그래프 2개를 그려보았다.\nx가 0인 data와 x축 오른쪽끝에 보면 이상치와 같은 값이 2개가 존재하는 것을 확인할 수 있다.\n\n\n# `Misc Val` & SalePrice > no correlation?\np1 <- ggplot(house, aes(x = `Misc Val`, y = SalePrice)) + geom_point(alpha = 0.3) +\n  geom_smooth(method = \"lm\", se = TRUE, color = \"red\", lty = \"dashed\") + \n  geom_smooth(se = TRUE, lty = \"dashed\") + ggtitle(\"raw data variables\")\np1\n\n\n\np2 <- ggplot(house, aes(x = `Misc Val`, y = SalePrice)) + geom_point(alpha = 0.3) +\n  geom_smooth(method = \"lm\", se = TRUE, color = \"red\", lty = \"dashed\") + \n  geom_smooth(se = TRUE, lty = \"dashed\") + \n  scale_x_log10() + scale_y_log10() + ggtitle(\"log data variables\")\np2\n\n\n\ngridExtra::grid.arrange(p1, p2, ncol = 2)\n\n\n\n\nTotal Bsmt SF와 같이 Misc Val 변수도 2개의 그래프를 그려보았고, 그 결과 SalePrice에 영향을 많이 안준다는 것을 확인할 수 있었다.\n\n\n# `Year Built` & SalePrice\nplot(house$`Year Built`, house$SalePrice)\n\n\n\np1 <- ggplot(house, aes(x = `Year Built`, y = SalePrice)) + geom_point(alpha = 0.3) +\n  geom_smooth(method = \"lm\", se = TRUE, color = \"red\", lty = \"dashed\") + \n  geom_smooth(se = TRUE, lty = \"dashed\") + ggtitle(\"raw data variables\")\np1\n\n\n\np2 <- ggplot(house, aes(x = `Year Built`, y = SalePrice)) + geom_point(alpha = 0.3) +\n  geom_smooth(method = \"lm\", se = TRUE, color = \"red\", lty = \"dashed\") + \n  geom_smooth(se = TRUE, lty = \"dashed\") + \n  scale_x_log10() + scale_y_log10() + ggtitle(\"log data variables\")\np2\n\n\n\ngridExtra::grid.arrange(p1, p2, ncol = 2)\n\n\n\n\nYear Built 변수는 일반적으로 생각하면 최신일수록 SalePrice가 높을 것이라고 예상할 수 있다. 그래프를 보아도 예상했던 것과 마찬가지인 것을 알 수 있다.\n\n\n# `Pool Area` & SalePrice\n\np1 <- ggplot(house, aes(x = `Pool Area`, y = SalePrice)) + geom_point(alpha = 0.3) +\n  geom_smooth(method = \"lm\", se = TRUE, color = \"red\", lty = \"dashed\") + \n  geom_smooth(se = TRUE, lty = \"dashed\") + ggtitle(\"raw data variables\")\np1\n\n\n\np2 <- ggplot(house, aes(x = `Pool Area`, y = SalePrice)) + geom_point(alpha = 0.3) +\n  geom_smooth(method = \"lm\", se = TRUE, color = \"red\", lty = \"dashed\") + \n  geom_smooth(se = TRUE, lty = \"dashed\") + \n  scale_x_log10() + scale_y_log10() + ggtitle(\"log data variables\")\np2\n\n\n\ngridExtra::grid.arrange(p1, p2, ncol = 2)\n\n\n\n\n본인은 처음 생각할 때, 수영장의 넓이가 넓을수록 집의 크기가 커질 것이고 그렇게 된다면 가격 또한 비쌀 것이라 생각했는데, 그래프를 그려보면 대부분의 집은 수영장이 없다는 것을 확인할 수 있었다. 따라서 이 변수 또한 SalePrice를 예측하는데 큰 도움이 되지 못할 것이라 생각한다.\n\n\n# `Bedroom AbvGr` & SalePrice\nx1 <- ggplot(house, aes(x = factor(`Bedroom AbvGr`), y = SalePrice)) +\n  geom_jitter(alpha = .2, width = .1)\nx1\n\n\n\n\nBedroom의 개수와 SalePrice에 대한 관계이다. 일반적으로 생각하기에 Bedroom이 많을 수록 가격이 비쌀 것이다 라고 생각할 수 있는데, 4개 까지는 그런 관계가 있지만 그 이후로는 오히려 가격이 내려간다는 것을 알 수 있다. 이 또한 직관적으로 생각한 것과는 많이 다른 부분이다.\n\n\n# `Lot Shape` & SalePrice\nx2 <- ggplot(house, aes(x = factor(`Lot Shape`), y = SalePrice)) +\n  geom_jitter(alpha = .2, width = .1)\nx2\n\n\n\n# `Land Contour` & SalePrice\nx3 <- ggplot(house, aes(x = factor(`Land Contour`), y = SalePrice)) +\n  geom_jitter(alpha = .2, width = .1)\nx3\n\n\n\n\nLot Shape, Land Contour와 SalePrice에 대한 각각의 자료인데 두 변수에 따라 SalePrice가 크게 달라지지는 않는 것으로 보인다. 이런 변수들은 분석할 때 독립변수로 두는 것이 큰 의미가 있을까 라는 의문을 만들어준다.\n처음 데이터를 보았을 때 변수가 82개로 너무 많다고 생각을 했었다. 기초통계분석을 하면서\n1. 모든 변수가 내가 원하는 target 변수를 분석할 때 생각보다 많이 쓰이지 않을 것이라고 생각했다. (ex. Lot Shape, Land Contour …)\n2. 그래프를 보면 처음 변수이름과 설명을 보고 생각했던 나의 직관과는 생각보다 많이 다르다는 것을 알 수 있다. (ex. Pool Area…) 또한 변수 안에서도 필요없거나 합쳐져야할 카테고리가 많은 것으로 보인다.\n3. 우리가 볼 수 있는 데이터 외에 추가적으로 사회적인 현상과 이슈 같은 것들이 target변수에 영향을 줄 수도 있을 것 같다. (ex. Year Built…)\n\n\n\n",
      "last_modified": "2021-03-10T11:52:37+00:00"
    }
  ],
  "collections": []
}
